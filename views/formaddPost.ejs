<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<%- include('navbar') %>

<body>
        <div class="container">
            <% if (errors) { %>
                <% errors.split(",").forEach(element=> { %>
                    <p style="color: red;">
                        <%= element %>
                    </p>
                    <% }) %>
                        <% } %>

                            <h1>Add New Post</h1>
                            <form method="post" action="/Posts/add">
                                <div class="input-group mb-3">
                                    <label class="input-group-text" for="inputGroupSelect01">Title</label>
                                    <input type="text" class="form-control" aria-describedby="emailHelp" name="title">

                                    <% if (errors) { %>
                                        <p style="color: red;">
                                            <%= errors.split(",")[0] %>
                                        </p>
                                        <% } %>
                                </div>

                                <div class="input-group mb-3">
                                    <label class="input-group-text" for="inputGroupSelect01">Author</label>
                                    <select name="authorId" class="form-select" id="inputGroupSelect01">
                                      <option selected>Choose...</option>
                                      <% data.forEach(element => { %>
                                        <option value="<%= element.id %>"><%= element.fullName %></option>
                                      <% }) %>
                                    </select>

                                    <% if (errors) { %>
                                        <p style="color: red;">
                                            <%= errors.split(",")[1] %>
                                        </p>
                                        <% } %>
                                  </div>

                                  <div class="input-group mb-3">
                                    <label class="input-group-text" for="inputGroupSelect01">Difficulty</label>
                                    <select name="difficulty" class="form-select" id="inputGroupSelect01">
                                        <option selected value="Easy">Easy</option>
                                        <option value="Medium">Medium</option>
                                        <option value="Hard">Hard</option>
                                    </select>

                                    <% if (errors) { %>
                                        <p style="color: red;">
                                            <%= errors.split(",")[1] %>
                                        </p>
                                        <% } %>
                                  </div>

                                  <div class="input-group mb-3">
                                    <label class="input-group-text" for="inputGroupSelect01">Estimated Time</label>
                                    <input type="number" class="form-control" aria-describedby="emailHelp" name="estimatedTime">

                                    <% if (errors) { %>
                                        <p style="color: red;">
                                            <%= errors.split(",")[0] %>
                                        </p>
                                        <% } %>
                                </div>

                                <div class="input-group mb-3">
                                    <label class="input-group-text" for="inputGroupSelect01">Image Url</label>
                                    <input type="text" class="form-control" aria-describedby="emailHelp" name="imageUrl">

                                    <% if (errors) { %>
                                        <p style="color: red;">
                                            <%= errors.split(",")[0] %>
                                        </p>
                                        <% } %>
                                </div>

                                <div class="input-group mb-3">
                                    <label class="input-group-text" for="inputGroupSelect01">Created Date</label>
                                    <input type="date" class="form-control" aria-describedby="emailHelp" name="createdDate">

                                    <% if (errors) { %>
                                        <p style="color: red;">
                                            <%= errors.split(",")[0] %>
                                        </p>
                                        <% } %>
                                </div>
                                
                                <div class="input-group mb-3">
                                    <label class="input-group-text" for="inputGroupSelect01">Description</label>
                                    <textarea name="description"></textarea>

                                    <% if (errors) { %>
                                        <p style="color: red;">
                                            <%= errors.split(",")[0] %>
                                        </p>
                                        <% } %>
                                </div>

                                <button style="margin-top: 10px;" type="submit" class="btn btn-primary">Submit</button>
                            </form>
        </div>

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
            integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
            crossorigin="anonymous"></script>
</body>

</html>